Aggregate functions

Count:
select count (*)
from researchdata_letterperson_body_part lpbp
where slletterpersonbodypart_id = 365

Count and group by:
select sent_date_year, count (*) 
from researchdata_letter l
group by sent_date_year 
--order by count(*) desc  

Count and group by gender:
[Persons]
select gengen.name as 'person gender', count (*)
from researchdata_person p
left join researchdata_slgeneric gengen on p.gender_id = gengen.id
group by gender_id

[Letter persons]
select genothergen.name as 'other gender', count (*)
from researchdata_letterperson lp 
left join researchdata_slgeneric genothergen on lp.person_other_gender_id = genothergen.id 
group by person_other_gender_id


Count and group named categories:
[body part]
select genbp.name as 'body part name', count (*)
from researchdata_letterperson_body_part lpbp
left join researchdata_slgeneric genbp on lpbp.slletterpersonbodypart_id = genbp.id
group by slletterpersonbodypart_id

[emotion]
select genem.name as 'emotion', count (*)
from researchdata_letterperson_emotion lpem
left join researchdata_slgeneric genem on lpem.slletterpersonemotion_id = genem.id
group by slletterpersonemotion_id
order by count (*) desc

Count and group by, using 'having' to limit on the aggregate:
select sent_date_year, count (*) 
from researchdata_letter l
group by sent_date_year 
having count (*) > 20
order by count(*) desc  

select sent_date_year, count (*) 
from researchdata_letter l
group by sent_date_year 
having count (*) < 5
order by count(*) asc
